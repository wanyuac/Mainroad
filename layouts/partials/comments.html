{{ if and .Site.DisqusShortname (index .Params "comments" | default "true") (not .Site.IsServer) }}
<section class="comments">
	{{ template "_internal/disqus.html" . }}
</section>
{{ end }}

<!-- valine -->
{{ if .Site.Params.valine.enable }}
<div id="vcomments"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    {{ if .Params.comment }}
	<script type="text/javascript">
		new Valine({
			el: '#vcomments' ,
			appId: '{{ .Site.Params.valine.appId }}',
			appKey: '{{ .Site.Params.valine.appKey }}',
			notify: {{ .Site.Params.valine.notify }}, 
			verify: {{ .Site.Params.valine.verify }}, 
			avatar: '{{ .Site.Params.valine.avatar }}', 
			visitor: {{ .Site.Params.valine.visitor }},
			{{ if eq .Site.Language.Lang "en" }}
			placeholder: 'Visitor\'s comment',
			lang: 'en'
			{{ else }}
			placeholder: '访客留言',
			lang: 'zh-cn'
			{{ end }}
		});
	</script>
	{{ end }}
{{ end }}

